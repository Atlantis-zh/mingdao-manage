<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yonyou.nccloud.dao.search.IIndSearchDicDao">
	<resultMap type="com.yonyou.nccloud.search.vo.SearchDic" id="resultMap">
		<id property="id" column="id"/>
        <result property="sku" column="sku" jdbcType="VARCHAR"/>
        <result property="brandName" column="brandName" jdbcType="VARCHAR"/>
        <result property="name" column="name" jdbcType="VARCHAR"/>
        <result property="cutByComputer" column="cutByComputer" jdbcType="VARCHAR"/>
		<result property="cutByPerson" column="cutByPerson" jdbcType="VARCHAR"/>
        <result property="keyword" column="keyword" jdbcType="VARCHAR"/>
        <result property="param" column="param" jdbcType="VARCHAR"/>
	</resultMap>
	<select id="findById" resultMap="resultMap">
		SELECT 
		id,
		sku,
		brandName,
		name,
		cutByComputer,
		cutByPerson,
		keyword,
		param
		FROM search_dic
		WHERE id = #{id}
	</select>
	<select id="getCount" resultType="map">
		SELECT
		count(id) count
		FROM search_dic
	</select>
	<select id="selectByPage" parameterType="com.yonyou.nccloud.search.vo.SearchDic" resultMap="resultMap">
		SELECT 
		id,
		sku,
		brandName,
		name,
		cutByComputer,
		cutByPerson,
		keyword,
		param
		FROM search_dic
		LIMIT 
		#{from},#{size}
	</select>
	
	<insert id="batchInsert" parameterType="java.util.List">
		INSERT search_dic
		(sku,brandName,name,cutByComputer,param,modifytime)
		VALUES
		<foreach collection="list" item="item" index="index" separator=",">
			(#{item.sku},#{item.brandName},#{item.name},#{item.cutByComputer},#{item.param},CURRENT_TIMESTAMP)
		</foreach>
	</insert>
	
	<update id="updateById" parameterType="com.yonyou.nccloud.search.vo.SearchDic">
		UPDATE search_dic
		<set>
			<if test="cutByPerson != null">
				cutByPerson=#{cutByPerson}
			</if>
			<if test="keyword != null">
				, keyword = #{keyword}
			</if>
		</set>
		WHERE
		id = #{id}
	</update>
	
</mapper>